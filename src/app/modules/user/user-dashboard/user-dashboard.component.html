<div class="pcoded-content">
    <div class="pcoded-inner-content">
        <div class="main-body">
            <div class="page-wrapper">

                <div class="page-body">
                   <div class="row mb-4">
                    <!-- <div class="col-xl-4 col-md-6 user-invest">
                        <label for="myInvest" class="sr-only">My Investment</label>
                        <select [(ngModel)]="selectedInvestment" (change)="showDetails()" name="" id="myInvest" class="form-control">
                            <option *ngIf="usersInvestments.length === 0" value="-1" >Investment Plans</option>
                            <option *ngFor="let investments of usersInvestments;let i = index" [ngValue]="i">{{investments.title}}</option>
                        </select>
                    </div> -->
                    <div style="margin: 1.1rem 0rem;
                                color: #43425d;
                                font-size: 1.3rem;
                                font-weight: 700;
                                letter-spacing: 0.1rem;
                                ">
                                    Dashboard
                    </div>
                   </div>

                   <div *ngIf="isLoading" class="lds-default">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                   </div>




                    <div *ngIf="!isLoading" class="row">
                        <div class="card-details col-6" style="padding-left: 0;">
                            <div class="card latest-update-card">
                                <div class="card-header none-covered">
                                    <h5>Investment Perfomance</h5>
                                </div>
                                <div  class="carousel slide" id="myCarousel" data-interval="false">
                                    <div class="container p-t-0 m-t-2 carousel-inner" style="max-width: 99%;">
                                        <div class="row row-equal carousel-item {{ i == 0 ? 'active' : '' }} m-t-0" *ngFor="let investments of usersInvestments; index as i;">

                                            <div class="card-block d-flex flex-row">
                                                <div class="col-6 input-control adjust">
                                                    <div class="table-responsive">
                                                        <table class="table mon reduced-font">
                                                            <tr>
                                                                <td class="col-3 leftBorder">
                                                                    <img class="" src="../../../../assets/images/Icon.png" style="height: 40px;width:40px">
                                                                </td>
                                                                  <td class="col-7  rightBorder"><span  style="color:#baeab5">N{{dashboardInvestment[i]?.investment_return[i].yielded_amount * dashboardInvestment[i]?.investment_report.length }}</span> <br>
                                                                    <span style="font-size:12px;color:grey">Amount Paid</span>
                                                                  </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="col-3  leftBorder">
                                                                    <img class="" src="../../../../assets/images/Icon-2.png" style="height: 40px;width:40px">
                                                                </td>
                                                                <td  class="col-7 rightBorder"> {{ dashboardInvestment[i]?.investment_report.length }} of   {{ divisorFunc(investments?.expected_return_period) }} <br>
                                                                    <span style="font-size:12px;color:grey"> Payback</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="col-3 leftBorder">
                                                                    <img class="" src="../../../../assets/images/Group 16710.png" style="height: 40px;width:40px">
                                                                </td>
                                                                <td  class="col-7 rightBorder">{{ dashboardInvestment[i]?.investment_report[dashboardInvestment[i]?.investment_report.length -1].created_at | date :  "dd.MM.y"}} <br>
                                                                    <span style="font-size:12px;color:grey">Last Payment</span>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="col-6 input-control adjust">
                                                    <div class="table-responsive">
                                                        <table class="table mon reduced-font">
                                                            <tr>
                                                                <td class="col-3 leftBorder">
                                                                    <img class="" src="../../../../assets/images/Icon-1.png" style="height: 40px;width:40px">
                                                                </td>
                                                                <td  class="col-7 rightBorder"><span style="color:#e99b89">N{{ ((((investments?.investment_amount * dashboardInvestment[i]?.number_of_pools) * (calculateEstimate(investments?.expected_return_amount,investments?.investment_amount, investments?.expected_return_period)))/100)) - (dashboardInvestment[i]?.investment_return[i].yielded_amount* dashboardInvestment[i]?.investment_report.length) }}</span><br>
                                                                   <span style="font-size:12px;color:grey"> Amount Pending</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td class="col-3 leftBorder">
                                                                    <img class="" src="../../../../assets/images/Group 16726.png" style="height: 40px;width:40px">
                                                                </td>
                                                                <td  class="col-7 rightBorder">{{dashboardInvestment[i]?.number_of_pools}} <br>
                                                                    <span style="font-size:12px;color:grey">Number of Slot(s)</span>
                                                                </td>
                                                            </tr>
                                                            <tr>

                                                                <td class="col-3 leftBorder">
                                                                    <img class="" src="../../../../assets/images/Group 16710.png" style="height: 40px;width:40px">
                                                                </td>
                                                                <td  class="col-7 rightBorder">{{ addMonth(dashboardInvestment[i]?.investment_report[dashboardInvestment[i]?.investment_report.length -1].created_at , 1)  | date:  "dd.MM.y" }}<br>
                                                                    <span style="font-size:12px;color:grey">Next Payment</span>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                   <div class="container">
                                        <div class="row">
                                            <div class="col-sm-12 text-center mb-4">
                                                <a class="px-1 btn-outline-info carousel-control left"  href="#myCarousel" data-slide="prev" title="back">
                                                    <i class="fa fa-lg  fa-circle"></i>
                                                </a>
                                                <a class="btn-outline-secondary carousel-control right" href="#myCarousel" data-slide="next" title="forward">
                                                    <i class="fa fa-lg fa-circle"></i>
                                                </a>
                                            </div>
                                        </div>
                                   </div>
                                </div>
                                <div class="card-footer header-bg d-flex flex-row">
                                    <div class="col-6 text-center">
                                        <h6>ACCOUNT BALANCE</h6>
                                        <h6 style="font-size:25px">N{{totalYieldedAmount}}</h6>
                                    </div>
                                    <div class="col-6 text-center">
                                        <button type="button" class=" col-5 btn btn-success  px-0 mr-2">Withdraw</button>
                                        <button type="button" class=" col-5 btn btn-warning px-0">Deposit</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card-details col-6" style="padding-left: 0;">
                            <div class="card latest-update-card">
                                <div class="card-header non-covered">
                                    <h5>Featured Investment</h5>
                                </div>
                                <div class="card-block">


                                        <div class="row">
                                            <div class="col-6 col-sm-6 input-control p-3">
                                                    <div class="col-12 px-0">
                                                        <img class="img img-responsive" style="width:150px;"  src="{{pools[0].investment_image}}" alt="farm-image">
                                                    </div>
                                                        <div class="spectre my-2">N{{pools[0].investment_amount}} per slot</div>
                                                <div  class="spectre my-2">Return: {{pools[0].estimated_percentage_profit}} profit</div>
                                            </div>
                                            <div class="col-6 col-sm-6 input-control p-3">
                                                    <div class="col-12 px-0">
                                                        <img class="img img-responsive" style="width:150px;"  src="{{pools[2].investment_image}}" alt="pepper-image">
                                                    </div>
                                                        <div  class="spectre my-2">N{{pools[2].investment_amount}} per slot</div>
                                                <div  class="spectre my-2">Return: {{pools[2].estimated_percentage_profit}} profit</div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-6 col-sm-6 input-control p-3">
                                                    <div class="col-12 px-0">
                                                        <img class="img img-responsive" style="width:150px;"  src="{{pools[5].investment_image}}" alt="bus-image">
                                                    </div>
                                                        <div  class="spectre my-2">N{{pools[5].investment_amount}} per slot</div>
                                                <div  class="spectre my-2">Return: {{pools[5].estimated_percentage_profit}} profit</div>
                                            </div>
                                            <div class="col-6 col-sm-6 input-control p-3">
                                                    <div class="col-12 px-0">
                                                        <img class="img img-responsive" style="width:180px;"  src="{{pools[8].investment_image}}" alt="salon-image">
                                                    </div>
                                                        <div  class="spectre my-2">N{{pools[8].investment_amount}} per slot</div>
                                                <div  class="spectre my-2">Return: {{pools[8].estimated_percentage_profit}} profit</div>
                                            </div>
                                        </div>

                                </div>
                            </div>
                        </div>

                        <!-- <div class="col-xl-4 p-0">
                            <div class="col-xl-12 col-md-12">
                                <div class="card comp-card prod-p-card ">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h6 class="m-b-25">Total Returns</h6>
                                                <h3 *ngIf="dashBoardData?.investment_return[latest_return-1]" class="f-w-700 text-c-blue">{{totalYieldedAmount | currency:'NGN':'symbol-narrow'}}</h3>
                                                <h3 *ngIf="!dashBoardData?.investment_return[latest_return-1]"class="f-w-700 text-c-blue">0.00</h3>
                                                <p *ngIf="dashBoardData.number_of_poolss>0" class="m-b-0">{{investmentInfo?.duration}} Month(s)</p>
                                                <p *ngIf="dashBoardData.number_of_poolss==0" class="m-b-0">0 Month(s)</p>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-money-bill-alt text-c-blue f-18"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <!-- <div class="col-xl-4 p-0">
                            <div  class="col-xl-12 col-md-12">
                                <div class="card comp-card prod-p-card ">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col">
                                                <h6 class="m-b-25" style="color: #666; font-weight: bold">Total Number of Slots</h6>
                                                <h3 class="f-w-700 text-c-blue">{{dashBoardData?.number_of_poolss}}</h3>
                                                <p class="m-b-0">{{dashBoardData?.number_of_poolss}} active slot(s)</p>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-chart-area text-c-blue f-18"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <!-- <div (click)="showGraph()" class="col-xl-4 p-0">
                            <div class="col-xl-12 col-md-12">
                                <div class="card comp-card">
                                    <div class="card-body">
                                        <div class="row align-items-center">
                                            <div class="col card-icon">
                                                <h6 class="m-b-25">View Analytic</h6>
                                                <h3 class="f-w-700 text-c-blue"></h3>
                                                <p class="m-b-0">12 Months</p>
                                                <i class="fas fa-chart-line text-c-blue f-18 ic"></i>
                                            </div>
                                            <div class="col-auto">
                                                <i class="fas fa-chart-line text-c-blue f-18"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                    </div>
                    <div *ngIf="!isLoading" class="row">

                        <!-- <div class="col-xl-12 p-0">
                            <div class="col-xl-12 col-md-12">
                                <div class="card">
                                    <div class="card-header">
                                        <h5>Report</h5>
                                    </div>
                                    <div class="card-block">
                                        <div class="dt-responsive table-responsive">
                                            <table id="userTable"
                                                    class="table table-striped nowrap">
                                                <thead>
                                                <tr>
                                                    <th>Report</th>
                                                    <th>Date</th>
                                                    <th>Type</th>
                                                    <th>Yielded Amount</th>
                                                    <th>Balance</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr  *ngFor="let report of dashBoardData.investment_report,let x=index " data-href="#viewUserProfile" (click)="viewUserDetail(i)">
                                                    <td>{{report.title}}</td>
                                                    <td >{{dashBoardData.investment_return[x].yielded_date.date}}</td>
                                                    <td >{{dashBoardData.investment_return[x].yielded_type}}</td>
                                                    <td >{{dashBoardData.investment_return[x].yielded_amount}}</td>
                                                    <td >{{dashBoardData.investment_return[x].yielded_investment_amount}}</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        <div class="row dashboard-table" style="width: 100%;margin-left: 2px;">
                            <div class="card-details col-xl-3.5 col-md-4" style="padding-left: 0;">
                                <div class="card latest-update-card recentActivity">
                                    <div class="card-header header-bg">
                                        <h6>Recent Activity</h6>
                                    </div>
                                    <div class="card-block">


                                      <div class="dt-responsive table-responsive">
                                          <div *ngFor="let req of userActivity.slice(0, 5),let x=index">
                                              <div class="activities d-flex flex-row">
                                                    <div class="image pr-2">
                                                      <img class="" src="../../../../assets/images/activities/Icon-{{req.type}}.png" style="height: 35px;width:35px">
                                                    </div>
                                                    <div class="post pr-1 pt-2" style="display:inline-grid;padding-top:.2rem !important">
                                                    <span>{{req?.activity}}</span>
                                                    <span style="color: lightgrey;font-size: 12px;">{{getTimeAgo(req?.created_at)}}</span>
                                                    </div>
                                              </div>
                                              <div *ngIf="x!=4" class="divider2"></div>
                                          </div>
                                              <!-- <table id="userTable"
                                                      class="table table-striped nowrap">
                                                  <thead>
                                                  <tr>
                                                      <th>first name</th>
                                                      <th>last name</th>
                                                      <th>email</th>
                                                      <th>Phone number</th>
                                                      <th>curriculum_vitae</th>
                                                  </tr>
                                                  </thead>
                                                  <tbody>
                                                  <tr *ngFor="let req of dashBoardData?.request_application,let x=index ">
                                                      <td>{{req.first_name}}</td>
                                                      <td >{{req.first_name}}</td>
                                                      <td >{{req.first_name}}</td>
                                                      <td >{{req.first_name}}</td>
                                                      <td >{{req.first_name}}</td>
                                                  </tr>
                                                  </tbody>
                                              </table> -->
                                      </div>
                                     </div>
                                </div>
                            </div>

                            <div class="card-details col-xl-8 col-md-8" style="padding-right: 0;padding-left: 0;">
                              <div class="card latest-update-card bestSelling">
                                  <div class="card-header header-bg">
                                      <h6>Best Selling</h6>
                                  </div>
                                  <div class="card-block">
                                        <div class="category-body">
                                            <nav>
                                                <div class="nav nav-tabs text-center mb-0" id="nav-tab" role="tablist">
                                                    <a class="nav-item nav-link active col-4" id="nav-day-tab"
                                                       data-toggle="tab" href="#nav-day" role="tab"
                                                       aria-controls="nav-day"
                                                       aria-selected="true">Past 24 Hours</a>
                                                    <a class="nav-item nav-link col-4" id="nav-month-tab"
                                                       data-toggle="tab" href="#nav-month" role="tab"
                                                       aria-controls="nav-month" aria-selected="false">Past 30 Days</a>
                                                    <a class="nav-item nav-link col-4" id="nav-year-tab"
                                                       data-toggle="tab"  href="#nav-year" role="tab"
                                                       aria-controls="nav-year" aria-selected="false">Past 365 Days</a>

                                                </div>
                                            </nav>

                                           <div class="tab-content" id="nav-tabContent">
                                               <div class="tab-pane fade show active" id="nav-day" role="tabpanel" aria-labelledby="nav-day-tab">
                                                    <div class="row1 d-flex flex-row p-2 mt-3" style="margin-top: 0rem !important;padding-bottom: 0rem !important;" *ngFor="let pool of filteredDayData.slice(0, 4);let i = index;">
                                                        <p class=" special col-3 px-0">{{pool?.title}}</p>
                                                        <p class="normal col-3 px-0">N{{pool?.investment_amount}} per slot</p>
                                                        <p class="normal col-3 px-0">- Return:{{calculateEstimate(pool?.expected_return_amount,pool?.investment_amount,pool?.expected_return_period)}}% profit (Estimated)</p>
                                                        <p class="normal col-3 px-0">- Monthly return: N{{calculateReturn(pool.expected_return_amount,pool.expected_return_period)}}</p>
                                                    </div>
                                               </div>

                                               <div class="tab-pane fade" id="nav-month" role="tabpanel" aria-labelledby="nav-month-tab">
                                                    <div class="row1 d-flex flex-row p-2 mt-3" style="margin-top: 0rem !important;padding-bottom: 0rem !important;" *ngFor="let pool of filteredMonthData.slice(0, 4);let i = index;">
                                                        <p class="special col-3 px-0">{{pool?.title}}</p>
                                                        <p class="normal col-3 px-0">N{{pool?.investment_amount}} per slot</p>
                                                        <p class="normal col-3 px-1">- Return:{{calculateEstimate(pool?.expected_return_amount,pool?.investment_amount,pool?.expected_return_period)}}% profit (Estimated)</p>
                                                        <p class="normal col-3 px-0">- Monthly return: N{{pool?.expected_return_amount}}</p>
                                                    </div>
                                               </div>

                                               <div class="tab-pane fade show" id="nav-year" role="tabpanel" aria-labelledby="nav-year-tab">
                                                    <div class="row1 d-flex flex-row p-2 mt-3" style="margin-top: 0rem !important;padding-bottom: 0rem !important;" *ngFor="let pool of filteredYearData.slice(0, 4);let i = index;">
                                                        <p class="special col-3 px-0">{{pool?.title}}</p>
                                                        <p class="normal col-3 px-0">N{{pool?.investment_amount}} per slot</p>
                                                        <p class="normal col-3 px-1">- Return:{{calculateEstimate(pool?.expected_return_amount,pool?.investment_amount,pool?.expected_return_period)}}% profit (Estimated)</p>
                                                        <p class="normal col-3 px-0">- Monthly return: N{{pool?.expected_return_amount}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                   </div>
                              </div>
                            </div>

                            <!-- <div class="col-xl-4 col-md-12">
                                <div class="card latest-update-card">
                                    <div class="card-header">
                                        <h5>Career</h5>
                                    </div>
                                    <div class="card-block">
                                          <div class="dt-responsive table-responsive">
                                                  <table id="userTable"
                                                          class="table table-striped nowrap">
                                                      <thead>
                                                      <tr>
                                                          <th>Title</th>
                                                          <th>No. of Applicants</th>
                                                      </tr>
                                                      </thead>
                                                      <tbody>
                                                      <tr *ngFor="let career of dashBoardData?.career_application,let x=index ">
                                                          <td>{{career.career_title}}</td>
                                                          <td >{{career.no_of_applications}}</td>
                                                      </tr>
                                                      </tbody>
                                                  </table>
                                          </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<!--<div *ngIf="isGraphShown" class="pcoded-content">

    <div class="pcoded-inner-content">
        <div class="main-body">
            <div class="page-wrapper">
                <div class="page-body">
                    <div class="row mb-4">
                        <div class="col-xl-4 col-md-6 user-invest">
                            <button class="btn btn2 btn-primary">Back</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<app-chart *ngIf="isGraphShown" [lineChartLabels]="lineChartLabels" [lineChartData]="lineChartData"></app-chart> -->
